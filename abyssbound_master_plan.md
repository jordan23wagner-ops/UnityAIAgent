# Abyssbound RPG – Master Plan

## Game Vision

Abyssbound is a **top-down 3D ARPG** inspired by **Old School RuneScape** and **Diablo**:

- OSRS-style: skilling, bank / hub town, wilderness-like danger, grindy progression, keys to bosses, meaningful death.
- Diablo-style: smooth, directional combat; loot beams and rarities; bosses with names and identity; zone difficulty ramps.

Tone: darker OSRS – corrupt wilderness, abyssal themes, cursed ruins, and void-touched enemies.

---

## Core Player Fantasy

- Start as a nobody in a dangerous world on the edge of an abyss.
- Grind skills or combat to earn power, gear, and knowledge.
- Venture into hostile zones that **want you dead**.
- Carefully manage risk versus reward: push deeper for greater loot or retreat to safety.
- Death hurts: you lose almost everything and must **claw your way back**.
- Over time, you master zones, learn enemy patterns, and piece together powerful sets and radiant items.

---

## Core Gameplay Loop

1. **Prep in Town (Hub)**
   - Repair and manage gear at forge.
   - Cook food, brew potions, and smith armor/weapons from gathered materials.
   - Bank valuables and sort inventory.
   - Accept “soft goals” (tasks, contracts, or bounties) for certain zones.

2. **Choose a Zone / Objective**
   - Select a zone appropriate to your current power (or deliberately overreach).
   - Decide: combat grind, material farm, or boss hunt.

3. **Venture Out**
   - Kill enemies, dodge hazards, manage DoTs.
   - Gain EXP, loot, and materials.
   - Learn enemy patterns and zone layout.

4. **Push or Bail**
   - Use waypoints/checkpoints you've unlocked to go deeper.
   - Or bail out and run back (or use an expensive teleport) to town.

5. **Boss & Keygates**
   - Grind zone-specific keys to access the zone boss.
   - The boss has a **high chance of zone-defining loot**.
   - Killing the boss unlocks the next zone and/or deeper layers.

6. **Return to Town**
   - Turn in loot, skill up, craft, and re-gear.
   - Plan your next push.

---

## Progression & Zones

- Progression is **linear in terms of unlocks**:
  - You must clear Zone 1’s boss to unlock Zone 2, etc.
- However, within a band, progression is **flexible**:
  - A lucky drop or strong crafting can let you “punch above your weight”.
  - You are allowed to try higher zones once they’re unlocked; survival is your problem.

Each zone has:

- 5–6 enemy types.
- 1 zone-wide primary hazard / DoT theme (poison, bleed, frost, etc.).
- 1–2 mini-bosses or elite variants.
- 1 main boss with:
  - Unique name.
  - Unique mechanics.
  - Zone-defining loot.

Zone DoTs can be mitigated by:

- Zone-appropriate gear (resistance stats).
- Potions from Alchemy (e.g., anti-poison, anti-venom).
- Skilling prep instead of brute force.

---

## Death & Gravestone System

- On death, you drop **everything except**:
  - Your single highest value equipped item (kept).
- Everything else, including equipped and inventory items, drops at a “gravestone” pile at the death location.
- If you manage to return and reach your gravestone **alive**, you reclaim your dropped items.
- If you die again before reaching the gravestone:
  - The previous gravestone disappears.
  - You effectively lose that pile permanently.
- This supports:
  - High-tension runs.
  - “Corp runs” similar to OSRS.
  - Stories about insane recoveries or brutal losses.

---

## Skills (Initial 5)

1. **Mining**
   - Mine ore from nodes in safe and dangerous zones.
   - Higher-tier zones give rarer ore.
2. **Forging / Smithing**
   - Convert ore into bars, and bars into weapons & armor.
   - Unlock zone-appropriate gear tiers.
3. **Fishing**
   - Primary source of raw food.
   - Higher zones → higher-tier fish → better healing.
4. **Cooking**
   - Turn raw fish into cooked meals.
   - Risk of burning at low levels, improved success at high levels.
5. **Alchemy**
   - Use herbs + monster drops + special reagents to craft:
     - Damage-boost potions (strength, ranged, magic).
     - Resistance potions (anti-poison, anti-venom, etc.).
     - Utility potions (maybe run speed, loot chance, etc. later).

Philosophy: skilling should let a cautious player offset gear or luck disadvantages.

---

## Loot System

### Rarity Tiers

- **Common**
- **Uncommon** (Green beam / label)
- **Magic** (Blue)
- **Rare** (Yellow)
- **Epic** (Purple)
- **Legendary** (Orange)
- **Set** (Red)
- **Radiant** (Rainbow – ultra rare “jackpot” tier)

Radiant items:

- Each zone has a **full Radiant set for all equipment slots** (theoretically).
- Drop rates are extremely low:
  - Fodder mobs: ~1/10,000 (0.01%)
  - Bosses: much higher (e.g. 1/250 per drop roll).
- Radiant drops can act as “lottery tickets” to skip ahead a zone or two.

---

### Base Drop Rates (Fodder Enemies)

We use a base loot model for generic enemies in a zone:

- Common: **5%**
- Uncommon: **3%**
- Magic: **2%**
- Rare: **1.5%**
- Epic: **0.5%**
- Legendary: **0.1%**
- Set: **0.85%**
- Radiant: **0.01%**

These rates are:

- Slightly increased per enemy difficulty **within the same zone**.
- Scaled up across higher zones (Zone 5 has roughly double the base rates of Zone 1, etc.).
- Bosses greatly boost chances for higher rarities and Radiant.

---

### Boss Loot Rules

- Bosses always drop at least **Rare+** gear.
- Boss-specific drops:
  - Unique legendary, set, or radiant items that strongly define the zone’s meta.
- Bosses can also:
  - Drop large piles of materials (ore, raw fish, herbs, etc.).
  - Drop any zone material at higher-than-fodder rates.

---

## Item Types

**Armor**
- Helmet
- Chest
- Legs
- Gloves
- Boots

**Jewelry**
- Ring 1 & Ring 2
- Trinket / Amulet

**Weapons**
- **Melee**
  - 1H Sword, 2H Sword
  - 1H/2H Mace
  - 1H/2H Hammer
  - 1H/2H Maul (heavier cousin, maybe slower but harder hitting)
- **Magic**
  - Wands (1H): disciple, teacher, apprentice, master, + special named variants
  - Staves (2H): similar naming pattern, plus boss-themed ones
- **Ranged**
  - Slingshot (early tier)
  - Shortbow
  - Crossbow
  - Longbow
  - Atlatl
  - “Moon Bow”, “Treant’s Bow”, “Crystal Bow”, etc. for high tiers

Radiant and Set items:
- Extremely unique names, models, and effects.
- Often define entire builds or playstyles.

---

## Naming & Aesthetic Direction

- OSRS-inspired but darker.
- Diablo-style names for bosses and unique enemies:
  - Examples: **Ingvar**, **Zoltan**, **Amaranth**, **Emohtep**.
- Gear:
  - OSRS nods: Whip of the Abyss, Dragon Sword, Dragonfire Shield, Armadyl-esque bows.
  - Diablo nods: corrupted, hellforged, demon, void, abyssal prefixes/suffixes.

---

## Technical Foundation (Unity)

- Engine: **Unity** (desktop build target for now).
- View: **Top-down 3D**, angled camera (roughly 45° down).
- Control: Keyboard input (WASD / arrows) via old Input Manager (Horizontal/Vertical axes).
- Physics: Rigidbody-based characters, continuous collision for smooth ARPG feel.
- Tools: VS Code + GitHub + Copilot; ChatGPT for design/architecture; future Agent Mode pipeline.

Current implementation:

- **Player**
  - Capsule with Rigidbody + CapsuleCollider.
  - `PlayerController` script:
    - Uses Rigidbody.MovePosition for smooth movement.
    - Reads `Input.GetAxisRaw("Horizontal"/"Vertical")`.
    - Maintains fixed Y height.
    - Rotates to face movement direction using Quaternion.LookRotation + Slerp.
  - Debug cube child at the “front” to visualize facing direction.

- **Camera**
  - `CameraFollow` script:
    - Keeps camera at offset (0, 10, -10) from player.
    - Smoothly follows and looks at player.

- **Scene**
  - Ground plane with proper collider (replaced to fix “sticking to walls” issue).
  - Arena walls (planned / partially established) to contain movement.

- **Git & Repo**
  - Repo initialized and pushed to GitHub.
  - Unity-style .gitignore configured.
  - `_Project` folder contains Scenes, Scripts, etc.

---

## Short-Term Gameplay Foundation (Next Steps)

1. **Arena & Boundaries**
   - Finalize 4 walls around the starting ground to create a collision-accurate arena.
   - Ensure player collision is smooth with no snagging or sliding issues.

2. **First Enemy AI**
   - Create `EnemyChaseController`:
     - Idle when player is outside detection radius.
     - Chase player on XZ plane when within detection radius.
     - Stop at a defined melee range (stopDistance).
     - Always face the player while within detection.

3. **Combat Foundation**
   - Add HP and basic stats to both player & enemy.
   - Define a basic attack input for the player (e.g., Spacebar or mouse click).
   - Implement hit detection and damage application (simple sphere or range check for now).
   - Implement basic enemy death and respawn logic.

4. **Loot & Rewards**
   - On enemy death, roll from a simple loot table:
     - Gold materials, low-tier gear, chance at higher rarities.
   - Visualize drops as world items that can be picked up.

5. **UI & Feedback**
   - Simple health bars (world-space or screen-space).
   - Floating damage numbers (optional but highly satisfying).
   - Simple sound / VFX placeholders.

---

## Mid-Term Systems

- Robust **Item & Loot Architecture** (ScriptableObjects).
- **Inventory & Equipment** UI and logic.
- **Stat System** (HP, damage, armor, resistances, crit, etc.).
- **Zone Manager** to load different zones and manage hazards.
- **Checkpoint / Waypoint System** per zone.
- **Skilling Nodes** and XP/leveling for each skill.
- **Boss Fights**:
  - Arena locking.
  - Multiple phases or mechanics.
  - Big, juicy rewards.

---

## Future: Agent Mode / Automation Plan

Once the following are stable:

- Player movement & rotation.
- Camera follow.
- Arena layout & core scene.
- Enemy AI chase / combat basics.
- Loot architecture & inventory scaffolding.

We will:

- Introduce ChatGPT Agent Mode with strict prompts:
  - Allow multi-file changes.
  - Keep class names and file names in sync.
  - Avoid touching scene references (or do so in a controlled, explicit way).
- Use Agent Mode to:
  - Generate large systems (inventory, complex loot tables, quest frameworks).
  - Maintain architectural consistency.
  - Refactor code across the repo safely.

This plan reflects all the locked-in decisions and clarifications so far.
